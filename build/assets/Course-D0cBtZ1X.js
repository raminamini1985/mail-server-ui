import{b as P,aj as T,r as c,aN as j,j as e,d as o,aC as d,P as N,I as u,L as k,h as a,T as v,o as p,B as E,aD as F,aH as D,F as O,ar as $,aO as H}from"./index-C8FJCBfb.js";import{S as U}from"./index-BNktdUDV.js";import{u as A,a as G,C as I,b as Q}from"./CourseProgress-DLkW0RbK.js";import{B as _}from"./ButtonGroup-Cqbw0yoI.js";import{S as q,a as R,b as V,c as W}from"./Stepper-DNwDjJqP.js";import"./LinearProgress-D-a8CLCd.js";import"./getValidReactChildren-BKU4XdJM.js";function re(){var C;const m=P(r=>r.breakpoints.down("lg")),h=T(),M=c.useRef(null),[z,f]=c.useState(!m),L=j(),{courseId:s}=L,{data:t,isLoading:B}=A({courseId:s},{skip:!s}),[x]=G();c.useEffect(()=>{var r;t&&((r=t==null?void 0:t.progress)==null?void 0:r.currentStep)===0&&x({courseId:s,data:{progress:{currentStep:1}}})},[t]),c.useEffect(()=>{f(!m)},[m]);const i=((C=t==null?void 0:t.progress)==null?void 0:C.currentStep)||0;function g(r){t&&(r>t.totalSteps||r<0)||x({courseId:s,data:{progress:{currentStep:r}}})}function b(){g(i+1)}function w(){g(i-1)}function y(r){g(r+1)}const l=i!==0?i:1;return B?e($,{}):t?e(O,{content:o("div",{className:"w-full",children:[e(d,{lgDown:!0,children:e(I,{className:"sticky top-0 z-10",course:t})}),e(d,{lgUp:!0,children:o(N,{className:"flex sticky top-0 z-10 items-center w-full px-16 py-8 border-b-1 shadow-0",square:!0,children:[e(u,{to:"/apps/academy/courses",component:k,children:e(a,{children:h.direction==="ltr"?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"})}),e(v,{className:"text-13 font-medium tracking-tight mx-10",children:t.title})]})}),e(U,{index:l-1,enableMouseEvents:!0,onChangeIndex:y,children:t.steps.map((r,S)=>e("div",{className:"flex justify-center p-16 pb-64 sm:p-24 sm:pb-64 md:p-48 md:pb-64",children:e(N,{className:"w-full max-w-lg mx-auto sm:my-8 lg:mt-16 p-24 sm:p-40 sm:py-48 rounded-16 shadow overflow-hidden",children:e("div",{className:"prose prose-sm dark:prose-invert w-full max-w-full",dangerouslySetInnerHTML:{__html:r.content},dir:h.direction})})},S))}),e(d,{lgDown:!0,children:e("div",{className:"flex justify-center w-full sticky bottom-0 p-16 pb-32 z-10",children:o(_,{variant:"contained","aria-label":"",className:"rounded-full",color:"secondary",children:[e(p,{className:"min-h-56 rounded-full",size:"large",startIcon:e(a,{children:"heroicons-outline:arrow-narrow-left"}),onClick:w,children:"Prev"}),e(p,{className:"pointer-events-none min-h-56",size:"large",children:`${l}/${t.totalSteps}`}),e(p,{className:"min-h-56 rounded-full",size:"large",endIcon:e(a,{children:"heroicons-outline:arrow-narrow-right"}),onClick:b,children:"Next"})]})})}),e(d,{lgUp:!0,children:o(E,{sx:{backgroundColor:"background.paper"},className:"flex sticky bottom-0 z-10 items-center w-full p-16 border-t-1",children:[e(u,{onClick:()=>f(!0),"aria-label":"open left sidebar",size:"large",children:e(a,{children:"heroicons-outline:view-list"})}),e(v,{className:"mx-8",children:`${l}/${t.totalSteps}`}),e(I,{className:"flex flex-1 mx-8",course:t}),e(u,{onClick:w,children:e(a,{children:"heroicons-outline:arrow-narrow-left"})}),e(u,{onClick:b,children:e(a,{children:"heroicons-outline:arrow-narrow-right"})})]})})]}),leftSidebarOpen:z,leftSidebarOnClose:()=>{f(!1)},leftSidebarWidth:300,leftSidebarContent:o(D,{children:[o("div",{className:"p-32",children:[e(p,{to:"/apps/academy/courses",component:k,className:"mb-24",color:"secondary",variant:"text",startIcon:e(a,{size:20,children:h.direction==="ltr"?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),children:"Back to courses"}),e(Q,{course:t})]}),e(F,{}),e(q,{classes:{root:"p-32"},activeStep:l-1,orientation:"vertical",children:t.steps.map((r,S)=>o(R,{sx:{"& .MuiStepLabel-root, & .MuiStepContent-root":{cursor:"pointer!important"},"& .MuiStepContent-root":{color:"text.secondary",fontSize:13}},onClick:()=>y(r.order),expanded:!0,children:[e(V,{className:"font-medium",sx:{"& .MuiSvgIcon-root":{color:"background.default","& .MuiStepIcon-text":{fill:n=>n.palette.text.secondary},"&.Mui-completed":{color:"secondary.main","& .MuiStepIcon-text ":{fill:n=>n.palette.secondary.contrastText}},"&.Mui-active":{color:"secondary.main","& .MuiStepIcon-text ":{fill:n=>n.palette.secondary.contrastText}}}},children:r.title}),e(W,{children:r.subtitle})]},S))})]}),scroll:"content",ref:M}):e(H,{})}export{re as default};
