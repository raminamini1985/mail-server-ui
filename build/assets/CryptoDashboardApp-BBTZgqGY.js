import{d as l,x as v,j as e,T as i,aT as Q,a0 as S,z as R,F as A,b4 as G,D,K as z,a8 as y,a9 as K,ac as X,aa as C,b5 as L,b6 as P,b3 as U,b1 as k,b7 as B,ab as J,b8 as g,C as Z,_ as I,P as O,b0 as ee,f as te,s as ne,a2 as ae,a3 as re,r as V}from"./index-hRi6i2cB.js";import{_}from"./react-apexcharts.min-B36ukSp7.js";import{s as le}from"./index-BlHJiA23.js";function F(t){const{value:r=0,title:o="",unit:n="B",className:a=""}=t,c={B:1e9,M:1e6};return l("div",{className:v(a,"p-16"),children:[e(i,{className:"text-sm font-medium leading-none",color:"text.secondary",children:o}),l(i,{className:"mt-8 font-mono text-xl leading-none",children:[(r/(c[n]||1)).toLocaleString("en-US",{style:"currency",currency:"USD"}),n]})]})}const oe=["crypto_dashboard_widgets"],ie=Q.enhanceEndpoints({addTagTypes:oe}).injectEndpoints({endpoints:t=>({getCryptoDashboardWidgets:t.query({query:()=>({url:"/mock-api/dashboards/crypto/widgets"}),providesTags:["crypto_dashboard_widgets"]})}),overrideExisting:!1}),{useGetCryptoDashboardWidgetsQuery:w}=ie;function se(t){const{onToggleLeftSidebar:r}=t,{data:o,isLoading:n}=w();if(n)return e(S,{});const a=o==null?void 0:o.btc;return a?l("div",{className:"flex flex-wrap w-full items-center px-8 py-12 md:px-16 border-b",children:[e(G,{lgUp:!0,children:e(R,{onClick:c=>r(c),"aria-label":"open left sidebar",size:"small",children:e(A,{children:"heroicons-outline:menu"})})}),l("div",{className:"flex flex-col flex-auto my-12 mx-8",children:[l("div",{className:"flex items-center space-x-8",children:[e(i,{className:"font-medium text-2xl",color:"text.secondary",children:"Bitcoin"}),e(i,{className:"font-medium text-lg tracking-wider",color:"text.secondary",children:"(BTC)"})]}),l("div",{className:"flex items-end mt-4 space-x-6",children:[e(i,{className:"font-mono text-3xl leading-none tracking-tight",children:a.amount.toLocaleString("en-US",{style:"currency",currency:"USD"})}),l("div",{className:"flex items-end",children:[e(A,{size:20,className:v("text-green-500 mx-2 mb-px",a.trend.dir==="up"&&"text-green-500",a.trend.dir==="down"&&"text-red-500"),children:a.trend.dir==="up"?"heroicons-solid:arrow-narrow-up":"heroicons-solid:arrow-narrow-down"}),l(i,{className:v("font-mono font-medium text-lg leading-none mb-px",a.trend.dir==="up"&&"text-green-500",a.trend.dir==="down"&&"text-red-500"),children:[a.trend.amount.toLocaleString("en-US",{style:"currency",currency:"USD"}),"%"]})]})]})]}),l("div",{className:"hidden sm:flex items-center my-12 mx-8 rounded-xl border",children:[e(F,{title:"Market Cap",unit:"B",value:a.marketCap}),e(D,{orientation:"vertical",flexItem:!0}),e(F,{title:"Volume",unit:"B",value:a.volume}),e(D,{orientation:"vertical",flexItem:!0}),e(F,{title:"Supply",unit:"M",value:a.supply}),e(D,{orientation:"vertical",flexItem:!0}),e(F,{title:"All Time High",value:a.allTimeHigh})]})]}):null}function ce(t){var a,c;const{item:r}=t,o=z(),n={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"line",sparkline:{enabled:!0}},colors:r.trend.dir==="up"?[o.palette.success.main]:[o.palette.error.main],stroke:{curve:"smooth",width:2},tooltip:{theme:"dark"},xaxis:{type:"category"}};return l("div",{className:"flex flex-0 items-center p-20 border-b space-x-24",children:[l("div",{className:"flex flex-col flex-auto",children:[l("div",{className:"flex items-baseline space-x-4",children:[e(i,{className:" font-medium text-md",color:"text.secondary",children:r.title}),l(i,{className:"font-medium text-sm uppercase tracking-wider",color:"text.secondary",children:["(",r.iso,")"]})]}),l("div",{className:"flex items-end mt-8",children:[e(i,{className:"min-w-80 font-mono text-2xl tracking-tighter leading-none",children:r.amount.toLocaleString("en-US",{style:"currency",currency:"USD"})}),e(A,{className:v("icon-size-14 mx-2 mb-px",r.trend.dir==="up"&&"text-green-500",r.trend.dir==="down"&&"text-red-500"),size:14,children:r.trend.dir==="up"?"heroicons-solid:arrow-narrow-up":"heroicons-solid:arrow-narrow-down"}),l(i,{className:v("font-mono font-medium text-sm leading-none",r.trend.dir==="up"&&"text-green-500",r.trend.dir==="down"&&"text-red-500"),children:[r.trend.amount,"%"]})]})]}),e(_,{className:"flex-auto w-full h-40",options:n,series:r.series,type:(a=n==null?void 0:n.chart)==null?void 0:a.type,height:(c=n==null?void 0:n.chart)==null?void 0:c.height})]})}const Y=[{title:"Buy",value:"buy"},{title:"Sell",value:"sell"}],de=[{title:"Bitcoin",value:"btc"},{title:"Ethereum",value:"eth"},{title:"Bitcoin Cash",value:"bch"},{title:"XRP",value:"xrp"}],ue={action:"buy",wallet:"btc",amount:0,amountType:"usd"},me=y.object({action:y.string().min(1,"You must select a value"),wallet:y.string().min(1,"You must select a value"),amount:y.number().nonnegative("You must specify a number value").positive("You must specify a number value greater than 0").or(y.number().min(0,"Amount must be greater than or equal to 0")),amountType:y.string().min(1,"You must select a value")});function pe(){var W;const{data:t,isLoading:r}=w();if(r)return e(S,{});const o=t==null?void 0:t.wallets,n=t==null?void 0:t.prices;if(!o||!n)return null;const{handleSubmit:a,reset:c,control:h,watch:x,formState:f,setValue:q}=K({defaultValues:ue,mode:"all",resolver:X(me)}),{isValid:E,dirtyFields:$,errors:d}=f,b=x("action"),u=x("wallet"),N=x("amountType");function j(p){c()}return l("form",{className:"w-full p-24 space-y-24",onSubmit:a(j),children:[e("div",{children:e(C,{render:({field:p})=>{var m;return l(L,{error:!!d.action,required:!0,fullWidth:!0,children:[e(P,{className:"font-medium text-14",component:"legend",children:"Action"}),e(U,{...p,variant:"outlined",fullWidth:!0,children:Y.map(s=>e(k,{value:s.value,children:s.title},s.value))}),e(B,{children:(m=d==null?void 0:d.action)==null?void 0:m.message})]})},name:"action",control:h})}),e("div",{children:e(C,{name:"wallet",control:h,render:({field:p})=>{var m;return l(L,{error:!!d.wallet,required:!0,fullWidth:!0,children:[e(P,{className:"font-medium text-14",component:"legend",children:"Wallet"}),e(U,{...p,variant:"outlined",fullWidth:!0,onChange:s=>{p.onChange(s.target.value),q("amountType",s.target.value)},children:de.map(s=>e(k,{value:s.value,children:`${s.title} - ${o[s.value]} ${s.value.toUpperCase()}`},s.value))}),l(B,{className:"flex items-center space-x-4",children:[e(i,{component:"span",className:"text-12",children:"USD:"}),e(i,{component:"span",className:"font-mono font-medium text-12",children:(o[p.value]*n[p.value]).toLocaleString("en-US",{style:"currency",currency:"USD"})})]}),e(B,{children:(m=d==null?void 0:d.wallet)==null?void 0:m.message})]})}})}),e("div",{children:e(C,{name:"amount",control:h,render:({field:{onChange:p,value:m,...s}})=>{var M;return e(J,{...s,value:m||"",onChange:T=>{const H=parseFloat(T.target.value);p(Number.isNaN(H)?"":H)},label:"Amount",variant:"outlined",error:!!d.amount,helperText:((M=d==null?void 0:d.amount)==null?void 0:M.message)||l(g,{children:[b==="buy"&&N==="usd"&&l(g,{children:[e(i,{component:"span",className:"text-12",children:"You will receive:"}),e(i,{component:"span",className:"font-mono font-medium text-12 mx-4",children:(m/n[u]).toLocaleString("en-US",{style:"currency",currency:u,maximumFractionDigits:8})})]}),b==="buy"&&N!=="usd"&&l(g,{children:[e(i,{component:"span",className:"text-12",children:"it will cost:"}),e(i,{component:"span",className:"font-mono font-medium text-12 mx-4",children:(m*n[u]).toLocaleString("en-US",{style:"currency",currency:"USD"})})]}),b==="sell"&&N==="usd"&&l(g,{children:[e(i,{component:"span",className:"text-12",children:"You will sell:"}),e(i,{component:"span",className:"font-mono font-medium text-12 mx-4",children:(m/n[u]).toLocaleString("en-US",{style:"currency",currency:u,maximumFractionDigits:8})})]}),b==="sell"&&N!=="usd"&&l(g,{children:[e(i,{component:"span",className:"text-12",children:"You will receive:"}),e(i,{component:"span",className:"font-mono font-medium text-12 mx-4",children:(m*n[u]).toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]}),required:!0,fullWidth:!0,type:"number",InputProps:{endAdornment:e(C,{control:h,name:"amountType",render:({field:T})=>e(L,{className:"min-w-80",children:l(U,{...T,variant:"outlined",size:"small",sx:{"& .MuiSelect-select ":{minHeight:"0!important",paddingY:0},"& fieldset":{display:"none"}},children:[e(k,{value:"usd",children:"USD"},"usd"),e(k,{value:u,children:u==null?void 0:u.toUpperCase()},u)]})})})}})}})}),e("div",{className:"flex my-48 items-center",children:e(Z,{className:"uppercase",variant:"contained",color:"secondary",type:"submit",disabled:I.isEmpty($)||!E,fullWidth:!0,children:(W=I.find(Y,{value:b}))==null?void 0:W.title})})]})}function he(){const{data:t,isLoading:r}=w();if(r)return e(S,{});const o=t==null?void 0:t.watchlist;return o?l(g,{children:[e(O,{elevation:0,square:!0,children:o==null?void 0:o.map(n=>e(ce,{item:n},n.iso))}),e(pe,{})]}):null}function fe(){var c,h,x;const t=z(),{data:r,isLoading:o}=w();if(o)return e(S,{});const n=r==null?void 0:r.btc;if(!n)return null;const a={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",width:"100%",height:"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},colors:[t.palette.secondary.light],dataLabels:{enabled:!1},grid:{borderColor:ee(t.palette.divider,.1),position:"back",show:!0,strokeDashArray:6,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},legend:{show:!1},stroke:{width:2,curve:"straight"},tooltip:{followCursor:!0,theme:"dark",x:{format:"MMM dd, yyyy"},y:{formatter:f=>`$${f.toFixed(2)}`}},xaxis:{type:"numeric",crosshairs:{show:!0,position:"back",fill:{type:"color",color:t.palette.divider},width:1,stroke:{color:t.palette.secondary.main,dashArray:0,width:2},opacity:.9},tickAmount:8,axisTicks:{show:!0,color:t.palette.divider},axisBorder:{show:!1},tooltip:{enabled:!1},labels:{show:!0,trim:!1,rotate:0,minHeight:40,hideOverlappingLabels:!0,formatter:f=>te(le(new Date,{minutes:Math.abs(parseInt(f,10))}),"HH:mm"),style:{colors:t.palette.text.secondary}}},yaxis:{axisTicks:{show:!0,color:t.palette.divider},axisBorder:{show:!1},forceNiceScale:!0,labels:{minWidth:40,formatter:f=>`$${f.toFixed(2)}`,style:{colors:t.palette.text.secondary}}}};return e("div",{className:"flex flex-col flex-auto h-full",children:e(_,{options:a,series:((c=n==null?void 0:n.price)==null?void 0:c.series)||[],type:(h=a==null?void 0:a.chart)==null?void 0:h.type,height:(x=a==null?void 0:a.chart)==null?void 0:x.height})})}function xe(){return e(fe,{})}const ye=ne(ae)(({theme:t})=>({"& .FusePageSimple-header":{backgroundColor:t.palette.background.paper,borderBottomWidth:1,borderStyle:"solid",borderColor:t.palette.divider},"& .FusePageSimple-toolbar":{},"& .FusePageSimple-content":{},"& .FusePageSimple-sidebarHeader":{},"& .FusePageSimple-sidebarContent":{backgroundColor:t.palette.background.default}}));function Se(){const t=re(c=>c.breakpoints.down("lg")),[r,o]=V.useState(!t),{data:n,isLoading:a}=w();return V.useEffect(()=>{o(!t)},[t]),n?a?e(S,{}):e(ye,{header:e(se,{onToggleLeftSidebar:()=>o(!r)}),leftSidebarContent:e(he,{}),leftSidebarOpen:r,leftSidebarOnClose:()=>o(!1),leftSidebarWidth:320,content:e(xe,{})}):null}export{Se as default};
