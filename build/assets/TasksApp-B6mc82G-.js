import{j as e,O as I,cZ as b,_ as T,d as s,T as d,m as x,o as f,bb as m,h as l,c_ as v,ay as y,g as L,bm as D,I as S,az as k,i as P,aD as w,aH as u,c$ as C,ar as j,aB as z,s as F,F as R,aN as O,r as g,b as A}from"./index-C8FJCBfb.js";import{P as N,D as B,C as H}from"./react-beautiful-dnd.esm-CUh_Fdmp.js";import"./memoize-one.esm-CcMeOnPo.js";function M(){return e("div",{className:"flex flex-col flex-auto",children:e(I,{})})}function $(){const{data:t}=b(),a=T.filter(t,n=>n.type==="task"&&!n.completed).length;return s("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 p-24 sm:p-32 w-full border-b-1 justify-between",children:[s("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-12",children:[e(x.span,{initial:{x:-20},animate:{x:0,transition:{delay:.2}},children:e(d,{className:"text-24 md:text-32 font-extrabold tracking-tight leading-none",children:"Tasks"})}),e(x.span,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:e(d,{className:"text-14 font-medium ml-2",color:"text.secondary",children:`${a} remaining tasks`})})]}),s("div",{className:"flex items-center -mx-8",children:[s(f,{className:"mx-8 whitespace-nowrap",component:m,to:"new/section",children:[e(l,{size:20,children:"heroicons-outline:plus"}),e("span",{className:"mx-8",children:"Add Section"})]}),s(f,{className:"mx-8 whitespace-nowrap",variant:"contained",color:"secondary",component:m,to:"new/task",children:[e(l,{size:20,children:"heroicons-outline:plus"}),e("span",{className:"mx-8",children:"Add Task"})]})]})]})}function E(t){const{data:a,index:n}=t,[o]=v();return e(N,{draggableId:a.id,index:n,children:(r,i)=>s(u,{children:[s(y,{className:L(i.isDragging?"shadow-lg":"shadow","px-40 py-12 group"),sx:{bgcolor:"background.paper"},button:!0,component:m,to:`/apps/tasks/${a.id}`,ref:r.innerRef,...r.draggableProps,children:[e("div",{className:"md:hidden absolute flex items-center justify-center inset-y-0 left-0 w-32 cursor-move md:group-hover:flex",...r.dragHandleProps,children:e(l,{sx:{color:"text.disabled"},size:20,children:"heroicons-solid:menu"})}),e(D,{className:"min-w-40 -ml-10 mr-8",children:e(S,{sx:{color:a.completed?"secondary.main":"text.disabled"},onClick:c=>{c.preventDefault(),c.stopPropagation(),o({...a,completed:!a.completed})},children:e(l,{children:"heroicons-outline:check-circle"})})}),e(k,{classes:{root:"m-0",primary:"truncate"},primary:a.title}),s("div",{className:"flex items-center",children:[s("div",{children:[a.priority===0&&e(l,{className:"text-green icon-size-16 mx-12",children:"heroicons-outline:arrow-narrow-down"}),a.priority===2&&e(l,{className:"text-red icon-size-16 mx-12",children:"heroicons-outline:arrow-narrow-up"})]}),a.dueDate&&e(d,{className:"text-12 whitespace-nowrap",color:"text.secondary",children:P(new Date(a.dueDate),"LLL dd")})]})]}),e(w,{})]})})}function Q(t){const{data:a,index:n}=t;return e(N,{draggableId:a.id,index:n,children:o=>s(u,{children:[s(y,{className:"px-40 py-12 group",sx:{bgcolor:"background.default"},button:!0,component:m,to:`/apps/tasks/${a.id}`,ref:o.innerRef,...o.draggableProps,children:[e("div",{className:"md:hidden absolute flex items-center justify-center inset-y-0 left-0 w-32 cursor-move md:group-hover:flex",...o.dragHandleProps,children:e(l,{sx:{color:"text.disabled"},size:20,children:"heroicons-solid:menu"})}),e(k,{classes:{root:"m-0",primary:"font-semibold text-16 truncate"},primary:a.title})]}),e(w,{})]})})}function _(){const{data:t,isLoading:a}=b(),[n]=C();if(a)return e(j,{});if(t.length===0)return e("div",{className:"flex flex-1 items-center justify-center h-full",children:e(d,{color:"text.secondary",variant:"h5",children:"There are no tasks!"})});function o(r){const{source:i,destination:c}=r;if(!c)return;const{index:p}=c,{index:h}=i;p!==h&&n({startIndex:h,endIndex:p})}return e(z,{className:"w-full m-0 p-0",children:e(B,{onDragEnd:o,children:e(H,{droppableId:"list",type:"list",direction:"vertical",children:r=>s(u,{children:[e("div",{ref:r.innerRef,children:t.map((i,c)=>i.type==="task"?e(E,{data:i,index:c},i.id):i.type==="section"?e(Q,{index:c,data:i},i.id):null)}),r.placeholder]})})})})}const G=F(R)(({theme:t})=>({"& .FusePageSimple-header":{backgroundColor:t.palette.background.paper}}));function q(){const t=O(),[a,n]=g.useState(!1),o=A(r=>r.breakpoints.down("lg"));return g.useEffect(()=>{n(!!t.id)},[t]),e(G,{header:e($,{}),content:e(_,{}),rightSidebarContent:e(M,{}),rightSidebarOpen:a,rightSidebarOnClose:()=>n(!1),rightSidebarWidth:640,scroll:o?"normal":"content"})}export{q as default};
